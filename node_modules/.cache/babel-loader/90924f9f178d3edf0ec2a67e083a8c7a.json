{"ast":null,"code":"import { async } from \"@firebase/util\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, doc, Timestamp, addDoc, getDoc, setDoc, query, where, collection, getDocs } from \"firebase/firestore/lite\";\nimport clearCart from \"../store/CartContext\";\nimport Swal from \"sweetalert2\";\nimport { firebaseConfig } from \"../index\";\n/* \r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECID,\r\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n    appId: process.env.REACT_APP_APPID,\r\n};*/\n\nconst app = initializeApp(firebaseConfig);\nconst firestoreDB = getFirestore(app);\nexport default firestoreDB;\nexport async function getAllItems() {\n  const miColec = collection(firestoreDB, \"productos\");\n  const productosSnap = await getDocs(miColec);\n  return productosSnap.docs.map(doc => {\n    return { ...doc.data(),\n      id: doc.id\n    };\n  });\n}\nexport async function getItemsByCategory(categoryid) {\n  const miColec = collection(firestoreDB, \"productos\");\n  const queryProduct = query(miColec, where(\"Categoria\", \"==\", categoryid));\n  const productosSnap = await getDocs(queryProduct);\n  return productosSnap.docs.map(doc => {\n    return { ...doc.data(),\n      id: doc.id\n    };\n  });\n}\nexport async function getItem(id) {\n  const miColec = collection(firestoreDB, \"productos\");\n  const productoRef = doc(miColec, id);\n  const productoSnap = await getDoc(productoRef);\n  return { ...productoSnap.data(),\n    id: productoSnap.id\n  };\n}\n/* export async function dataToFirebase(producto){\r\n    const PRODUCTS = [{\r\n        \"precio\": 1500,\r\n        \"title\": \"Botas\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_01.jpg\",\r\n        \"reviews\" : 25,\r\n        \"star\": 2,\r\n        \"Categoria\": \"Calzados\",\r\n        \"description\": \"Botas de cuero de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1300,\r\n        \"title\": \"Campera\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_02.jpg\",\r\n        \"reviews\" : 25,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Indumentaria\",\r\n        \"description\": \"Campera de cuero de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1100,\r\n        \"title\": \"Bufandas\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_03.jpg\",\r\n        \"reviews\" : 25,\r\n        \"star\": 3.2,\r\n        \"Categoria\": \"Indumentaria\",\r\n        \"description\": \"Bufandas de cuero de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1250,\r\n        \"title\": \"Snow Toys\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_04.jpg\",\r\n        \"reviews\" : 23,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Hogar\",\r\n        \"description\": \"Regalos para navidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 4310,\r\n        \"title\": \"Pulover\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_05.jpg\",\r\n        \"reviews\" : 11,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Indumentaria\",\r\n        \"description\": \"Pulover de pana de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1250,\r\n        \"title\": \"Snow Toys\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_06.jpg\",\r\n        \"reviews\" : 66,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Hogar\",\r\n        \"description\": \"Regalos para navidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 11234,\r\n        \"title\": \"Celular Samsung\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/celular.png\",\r\n        \"reviews\" : 611,\r\n        \"star\": 5,\r\n        \"Categoria\": \"Tecno\",\r\n        \"description\": \"Mejor Celular del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 122250,\r\n        \"title\": \"TV Samsung\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/tv.png\",\r\n        \"reviews\" : 611,\r\n        \"star\": 4,\r\n        \"Categoria\": \"Tecno\",\r\n        \"description\": \"Mejor televisor del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 111250,\r\n        \"title\": \"Laptop Samsung\",\r\n        \"thumbnailUrl\": \"../img/productos/laptop.png\",\r\n        \"reviews\" : 611,\r\n        \"star\": 4,\r\n        \"Categoria\": \"Tecno\",\r\n        \"description\": \"Mejor laptop del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 3150,\r\n        \"title\": \"Licuadora\",\r\n        \"thumbnailUrl\": \"../img/productos/licuadora.png\",\r\n        \"reviews\" : 21,\r\n        \"star\": 5,\r\n        \"Categoria\": \"Electro\",\r\n        \"description\": \"Mejor Celular del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 2200,\r\n        \"title\": \"Mixer\",\r\n        \"thumbnailUrl\": \"../img/productos/mixer.png\",\r\n        \"reviews\" : 51,\r\n        \"star\": 4,\r\n        \"Categoria\": \"Electro\",\r\n        \"description\": \"Mejor televisor del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 5250,\r\n        \"title\": \"Tostadora\",\r\n        \"thumbnailUrl\": \"../img/productos/tostadora.png\",\r\n        \"reviews\" : 61,\r\n        \"star\": 3,\r\n        \"Categoria\": \"Electro\",\r\n        \"description\": \"Mejor laptop del mundo\",\r\n        \"stock\": 10\r\n    }]\r\n\r\n    const miColec = collection(firestoreDB, \"productos\");\r\n\r\n\r\n    PRODUCTS.forEach((item) => {     \r\n        const newItem = doc(miColec);\r\n        setDoc(newItem, item).then(() => {\r\n            console.log(\"Document written with ID: \", newItem.id)})\r\n        .catch(err => {\r\n            console.error(\"Error adding document: \", err);\r\n        });\r\n    });\r\n}\r\n */\n\nexport async function createBuyOrder(orderData) {\n  const buyTimestamp = Timestamp.now();\n  const orderWithDate = { ...orderData,\n    date: buyTimestamp\n  };\n  const miColec = collection(firestoreDB, \"buyOrdenes\");\n  const ordenDoc = await addDoc(miColec, orderWithDate);\n  Swal.fire({\n    title: `Su compra ha sido confirmada con el numero ${ordenDoc.id}`,\n    icon: 'success',\n    showCancelButton: false\n  }).then(() => {\n    window.location.reload();\n  });\n  clearCart();\n}","map":{"version":3,"sources":["C:/Users/Cacti/Desktop/app_ci - Copy/primera_app/src/data/BBDD.js"],"names":["async","initializeApp","getFirestore","doc","Timestamp","addDoc","getDoc","setDoc","query","where","collection","getDocs","clearCart","Swal","firebaseConfig","app","firestoreDB","getAllItems","miColec","productosSnap","docs","map","data","id","getItemsByCategory","categoryid","queryProduct","getItem","productoRef","productoSnap","createBuyOrder","orderData","buyTimestamp","now","orderWithDate","date","ordenDoc","fire","title","icon","showCancelButton","then","window","location","reload"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAAQC,YAAR,EAAsBC,GAAtB,EAA2BC,SAA3B,EAAsCC,MAAtC,EAA8CC,MAA9C,EAAsDC,MAAtD,EAA8DC,KAA9D,EAAqEC,KAArE,EAA4EC,UAA5E,EAAwFC,OAAxF,QAAsG,yBAAtG;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAAQC,cAAR,QAA6B,UAA7B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,GAAG,GAAGd,aAAa,CAACa,cAAD,CAAzB;AACA,MAAME,WAAW,GAAGd,YAAY,CAACa,GAAD,CAAhC;AAEA,eAAeC,WAAf;AAGA,OAAO,eAAeC,WAAf,GAA4B;AAE/B,QAAMC,OAAO,GAAGR,UAAU,CAACM,WAAD,EAAc,WAAd,CAA1B;AACA,QAAMG,aAAa,GAAG,MAAMR,OAAO,CAACO,OAAD,CAAnC;AACA,SAAOC,aAAa,CAACC,IAAd,CAAmBC,GAAnB,CAAuBlB,GAAG,IAAG;AAChC,WAAM,EACN,GAAGA,GAAG,CAACmB,IAAJ,EADG;AAENC,MAAAA,EAAE,EAAEpB,GAAG,CAACoB;AAFF,KAAN;AAGE,GAJC,CAAP;AAKH;AAGD,OAAO,eAAeC,kBAAf,CAAkCC,UAAlC,EAA6C;AAChD,QAAMP,OAAO,GAAGR,UAAU,CAACM,WAAD,EAAc,WAAd,CAA1B;AACA,QAAMU,YAAY,GAAGlB,KAAK,CAACU,OAAD,EAAUT,KAAK,CAAC,WAAD,EAAc,IAAd,EAAoBgB,UAApB,CAAf,CAA1B;AACA,QAAMN,aAAa,GAAG,MAAMR,OAAO,CAACe,YAAD,CAAnC;AAEA,SAAOP,aAAa,CAACC,IAAd,CAAmBC,GAAnB,CAAuBlB,GAAG,IAAG;AAChC,WAAM,EACN,GAAGA,GAAG,CAACmB,IAAJ,EADG;AAENC,MAAAA,EAAE,EAAEpB,GAAG,CAACoB;AAFF,KAAN;AAGE,GAJC,CAAP;AAKH;AAGD,OAAO,eAAeI,OAAf,CAAuBJ,EAAvB,EAA0B;AAC7B,QAAML,OAAO,GAAGR,UAAU,CAACM,WAAD,EAAc,WAAd,CAA1B;AACA,QAAMY,WAAW,GAAGzB,GAAG,CAACe,OAAD,EAAUK,EAAV,CAAvB;AACA,QAAMM,YAAY,GAAG,MAAMvB,MAAM,CAACsB,WAAD,CAAjC;AAEI,SAAM,EACF,GAAGC,YAAY,CAACP,IAAb,EADD;AAEFC,IAAAA,EAAE,EAAEM,YAAY,CAACN;AAFf,GAAN;AAIP;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,eAAeO,cAAf,CAA8BC,SAA9B,EAAwC;AAC3C,QAAMC,YAAY,GAAG5B,SAAS,CAAC6B,GAAV,EAArB;AACA,QAAMC,aAAa,GAAG,EAClB,GAAGH,SADe;AAElBI,IAAAA,IAAI,EAACH;AAFa,GAAtB;AAKA,QAAMd,OAAO,GAAGR,UAAU,CAACM,WAAD,EAAc,YAAd,CAA1B;AACA,QAAMoB,QAAQ,GAAG,MAAM/B,MAAM,CAACa,OAAD,EAAUgB,aAAV,CAA7B;AAGArB,EAAAA,IAAI,CAACwB,IAAL,CAAU;AACNC,IAAAA,KAAK,EAAG,8CAA6CF,QAAQ,CAACb,EAAG,EAD3D;AAENgB,IAAAA,IAAI,EAAE,SAFA;AAGNC,IAAAA,gBAAgB,EAAE;AAHZ,GAAV,EAKCC,IALD,CAKM,MAAM;AACRC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAPD;AAUAhC,EAAAA,SAAS;AAEZ","sourcesContent":["import { async } from \"@firebase/util\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {getFirestore, doc, Timestamp, addDoc, getDoc, setDoc, query, where, collection, getDocs} from \"firebase/firestore/lite\";\r\nimport clearCart from \"../store/CartContext\";\r\nimport Swal from \"sweetalert2\";\r\nimport {firebaseConfig} from \"../index\"\r\n\r\n/* \r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECID,\r\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n    appId: process.env.REACT_APP_APPID,\r\n};*/\r\n\r\nconst app = initializeApp(firebaseConfig); \r\nconst firestoreDB = getFirestore(app);\r\n\r\nexport default firestoreDB;\r\n\r\n\r\nexport async function getAllItems(){\r\n\r\n    const miColec = collection(firestoreDB, \"productos\");\r\n    const productosSnap = await getDocs(miColec);\r\n    return productosSnap.docs.map(doc =>{\r\n        return{\r\n        ...doc.data(),\r\n        id: doc.id\r\n        }});\r\n}\r\n\r\n\r\nexport async function getItemsByCategory(categoryid){\r\n    const miColec = collection(firestoreDB, \"productos\");\r\n    const queryProduct = query(miColec, where(\"Categoria\", \"==\", categoryid));  \r\n    const productosSnap = await getDocs(queryProduct);\r\n\r\n    return productosSnap.docs.map(doc =>{\r\n        return{\r\n        ...doc.data(),\r\n        id: doc.id\r\n        }}); \r\n}\r\n\r\n\r\nexport async function getItem(id){\r\n    const miColec = collection(firestoreDB, \"productos\");\r\n    const productoRef = doc(miColec, id);\r\n    const productoSnap = await getDoc(productoRef);\r\n\r\n        return{\r\n            ...productoSnap.data(),\r\n            id: productoSnap.id\r\n        }\r\n}\r\n\r\n/* export async function dataToFirebase(producto){\r\n    const PRODUCTS = [{\r\n        \"precio\": 1500,\r\n        \"title\": \"Botas\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_01.jpg\",\r\n        \"reviews\" : 25,\r\n        \"star\": 2,\r\n        \"Categoria\": \"Calzados\",\r\n        \"description\": \"Botas de cuero de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1300,\r\n        \"title\": \"Campera\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_02.jpg\",\r\n        \"reviews\" : 25,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Indumentaria\",\r\n        \"description\": \"Campera de cuero de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1100,\r\n        \"title\": \"Bufandas\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_03.jpg\",\r\n        \"reviews\" : 25,\r\n        \"star\": 3.2,\r\n        \"Categoria\": \"Indumentaria\",\r\n        \"description\": \"Bufandas de cuero de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1250,\r\n        \"title\": \"Snow Toys\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_04.jpg\",\r\n        \"reviews\" : 23,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Hogar\",\r\n        \"description\": \"Regalos para navidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 4310,\r\n        \"title\": \"Pulover\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_05.jpg\",\r\n        \"reviews\" : 11,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Indumentaria\",\r\n        \"description\": \"Pulover de pana de alta calidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 1250,\r\n        \"title\": \"Snow Toys\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/product_06.jpg\",\r\n        \"reviews\" : 66,\r\n        \"star\": 3.5,\r\n        \"Categoria\": \"Hogar\",\r\n        \"description\": \"Regalos para navidad\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 11234,\r\n        \"title\": \"Celular Samsung\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/celular.png\",\r\n        \"reviews\" : 611,\r\n        \"star\": 5,\r\n        \"Categoria\": \"Tecno\",\r\n        \"description\": \"Mejor Celular del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 122250,\r\n        \"title\": \"TV Samsung\",\r\n        \"thumbnailUrl\": \"../assets/img/productos/tv.png\",\r\n        \"reviews\" : 611,\r\n        \"star\": 4,\r\n        \"Categoria\": \"Tecno\",\r\n        \"description\": \"Mejor televisor del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 111250,\r\n        \"title\": \"Laptop Samsung\",\r\n        \"thumbnailUrl\": \"../img/productos/laptop.png\",\r\n        \"reviews\" : 611,\r\n        \"star\": 4,\r\n        \"Categoria\": \"Tecno\",\r\n        \"description\": \"Mejor laptop del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 3150,\r\n        \"title\": \"Licuadora\",\r\n        \"thumbnailUrl\": \"../img/productos/licuadora.png\",\r\n        \"reviews\" : 21,\r\n        \"star\": 5,\r\n        \"Categoria\": \"Electro\",\r\n        \"description\": \"Mejor Celular del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 2200,\r\n        \"title\": \"Mixer\",\r\n        \"thumbnailUrl\": \"../img/productos/mixer.png\",\r\n        \"reviews\" : 51,\r\n        \"star\": 4,\r\n        \"Categoria\": \"Electro\",\r\n        \"description\": \"Mejor televisor del mundo\",\r\n        \"stock\": 10\r\n    },\r\n    {\r\n        \"precio\": 5250,\r\n        \"title\": \"Tostadora\",\r\n        \"thumbnailUrl\": \"../img/productos/tostadora.png\",\r\n        \"reviews\" : 61,\r\n        \"star\": 3,\r\n        \"Categoria\": \"Electro\",\r\n        \"description\": \"Mejor laptop del mundo\",\r\n        \"stock\": 10\r\n    }]\r\n\r\n    const miColec = collection(firestoreDB, \"productos\");\r\n\r\n\r\n    PRODUCTS.forEach((item) => {     \r\n        const newItem = doc(miColec);\r\n        setDoc(newItem, item).then(() => {\r\n            console.log(\"Document written with ID: \", newItem.id)})\r\n        .catch(err => {\r\n            console.error(\"Error adding document: \", err);\r\n        });\r\n    });\r\n}\r\n */\r\nexport async function createBuyOrder(orderData){\r\n    const buyTimestamp = Timestamp.now();\r\n    const orderWithDate = {\r\n        ...orderData, \r\n        date:buyTimestamp,\r\n    }\r\n\r\n    const miColec = collection(firestoreDB, \"buyOrdenes\");\r\n    const ordenDoc = await addDoc(miColec, orderWithDate)\r\n    \r\n\r\n    Swal.fire({\r\n        title: `Su compra ha sido confirmada con el numero ${ordenDoc.id}`,\r\n        icon: 'success',\r\n        showCancelButton: false,\r\n        })\r\n    .then(() => {\r\n        window.location.reload();\r\n    }\r\n    )\r\n    \r\n    clearCart()\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}